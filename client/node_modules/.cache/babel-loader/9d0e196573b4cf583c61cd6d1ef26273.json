{"ast":null,"code":"import React from 'react';\nimport './App.css';\n\nclass App extends React.Component {// static contextType = ChatContext;\n  // state: ChatState = {\n  //   messages: [\n  //     {\n  //       message: 'Welcome! Type a message and press Send Message to continue the chat.',\n  //       author: 'Bot'\n  //     }\n  //   ],\n  //   input: ''\n  // }\n  // componentDidMount () {\n  //   //initiate socket connection\n  //   this.context.init();\n  //   const observable = this.context.onMessage();\n  //   observable.subscribe((m: ChatMessage) => {\n  //     let messages = this.state.messages;\n  //     messages.push(m);\n  //     this.setState({ messages: messages });\n  //   });\n  // }\n  // componentWillUnmount () {\n  //   this.context.disconnect();\n  // }\n  // render () {\n  //   const updateInput = (e: React.ChangeEvent<HTMLInputElement>): void => {\n  //     this.setState({ input: e.target.value });\n  //   }\n  //   const handleMessage = (): void => {\n  //     const author: string = 'Ross';\n  //     if (this.state.input !== '') {\n  //       this.context.send({\n  //         message: this.state.input,\n  //         author: author\n  //       });\n  //       this.setState({ input: '' });\n  //     }\n  //   };\n  //   let msgIndex = 0;\n  //   return (\n  //     <div className=\"App\">\n  //       <img src={logo} className=\"App-logo\" alt=\"logo\" />\n  //       <div className=\"App-chatbox\">\n  //         {this.state.messages.map((msg: ChatMessage) => {\n  //           msgIndex++;\n  //           return (\n  //             <div key={msgIndex}>\n  //               <p>{msg.author}</p>\n  //               <p>\n  //                 {msg.message}\n  //               </p>\n  //             </div>\n  //           );\n  //         })}\n  //       </div>\n  //       <input\n  //         className=\"App-Textarea\"\n  //         placeholder=\"Type your messsage here...\"\n  //         onChange={updateInput}\n  //         value={this.state.input}\n  //       />\n  //       <p>\n  //         <button onClick={() => { handleMessage() }}>\n  //           Send Message\n  //         </button>\n  //       </p>\n  //     </div>\n  //   );\n  // }\n}\n\nexport default App;","map":{"version":3,"sources":["/home/predator/Документи/ts-live-chat-demo/client/src/App.tsx"],"names":["React","App","Component"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,WAAP;;AAIA,MAAMC,GAAN,SAAkBD,KAAK,CAACE,SAAxB,CAAkC,CAGhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnFgC;;AAuFlC,eAAeD,GAAf","sourcesContent":["import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport { ChatMessage, ChatState } from './types';\nimport { ChatContext } from './ChatContext';\n\nclass App extends React.Component {\n\n\n  // static contextType = ChatContext;\n  // state: ChatState = {\n  //   messages: [\n  //     {\n  //       message: 'Welcome! Type a message and press Send Message to continue the chat.',\n  //       author: 'Bot'\n  //     }\n  //   ],\n  //   input: ''\n  // }\n\n  // componentDidMount () {\n\n  //   //initiate socket connection\n  //   this.context.init();\n\n  //   const observable = this.context.onMessage();\n\n  //   observable.subscribe((m: ChatMessage) => {\n  //     let messages = this.state.messages;\n\n  //     messages.push(m);\n  //     this.setState({ messages: messages });\n  //   });\n  // }\n\n  // componentWillUnmount () {\n  //   this.context.disconnect();\n  // }\n\n  // render () {\n\n  //   const updateInput = (e: React.ChangeEvent<HTMLInputElement>): void => {\n  //     this.setState({ input: e.target.value });\n  //   }\n\n  //   const handleMessage = (): void => {\n\n  //     const author: string = 'Ross';\n\n  //     if (this.state.input !== '') {\n  //       this.context.send({\n  //         message: this.state.input,\n  //         author: author\n  //       });\n  //       this.setState({ input: '' });\n  //     }\n  //   };\n\n  //   let msgIndex = 0;\n  //   return (\n  //     <div className=\"App\">\n  //       <img src={logo} className=\"App-logo\" alt=\"logo\" />\n\n  //       <div className=\"App-chatbox\">\n  //         {this.state.messages.map((msg: ChatMessage) => {\n  //           msgIndex++;\n  //           return (\n  //             <div key={msgIndex}>\n  //               <p>{msg.author}</p>\n  //               <p>\n  //                 {msg.message}\n  //               </p>\n  //             </div>\n  //           );\n  //         })}\n  //       </div>\n  //       <input\n  //         className=\"App-Textarea\"\n  //         placeholder=\"Type your messsage here...\"\n  //         onChange={updateInput}\n  //         value={this.state.input}\n  //       />\n  //       <p>\n  //         <button onClick={() => { handleMessage() }}>\n  //           Send Message\n  //         </button>\n  //       </p>\n  //     </div>\n  //   );\n  // }\n}\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}